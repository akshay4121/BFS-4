class Solution {
    public int snakesAndLadders(int[][] board) {
        int n = board.length;
        Queue<Integer> q = new LinkedList<>();
        q.add(1);
        board[n-1][0] = 0;
        int moves = 0;

        while(!q.isEmpty()){
            int size = q.size();
            System.out.println(size);

            for(int i =0; i<size; i++){
                int current = q.poll();

                for(int j = 1; j<=6; j++){
                    int next = current + j;

                    if(next > n*n) break;

                    int[] pos = getPos(next, n);
                    int r = pos[0]; int c = pos[1];

                    if(board[r][c] != -1){
                        next = board[r][c];
                    }

                    if(board[r][c] != 0){
                        if(next == n*n)
                            return moves+1;
                        
                        board[r][c] = 0;
                        q.add(next);
                    }
                }
            }

            moves++;
        }
    return -1;
    }

    private int[] getPos(int curr, int n){
        int r = (curr-1)/n;
        int c = (curr-1)%n;

        if(r%2 != 0)
            c = n-1-c;
        r = n - 1 - r;

        return new int[] {r,c};
    }
}